<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.11"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <title>CCNx Common Library: /Users/gscott/Documents/workspace/CCNx_Distillery-Gatekeeper/CCNx_Distillery/src/Libccnx-common/ccnx/common/codec/schema_v1/ccnxCodecSchemaV1_PacketEncoder.h File Reference</title>
        <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link href="masthead.css" rel="stylesheet" type="text/css" />
        <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
<link href="masthead.css" rel="stylesheet" type="text/css"/>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="doxygen-bootstrap.js"></script>
    </head>
    <body>
        <div class="container masthead">
          <div class="navbar-header">
            <img src="parc_black_solid.png" \>
          </div>
        </div>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand">CCNx Common Library </a>
                </div>
            </div>
        </nav>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 panel panel-default" style="padding-bottom: 15px;">
                            <div style="margin-bottom: 15px;">
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Overview</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Public&#160;Types</span></a></li>
      <li><a href="globals.html"><span>Global&#160;Entities</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_16fe5a6cb4619b62438c1360066364fb.html">Libccnx-common</a></li><li class="navelem"><a class="el" href="dir_ca999156402b63f07c663b5e9508e272.html">ccnx</a></li><li class="navelem"><a class="el" href="dir_0ce23f429e33a65a4627580fe4574273.html">common</a></li><li class="navelem"><a class="el" href="dir_d1ed8e9c4e537cf63813a234e25cada0.html">codec</a></li><li class="navelem"><a class="el" href="dir_cadab3d7eddfce7411e41818b2cbdf55.html">schema_v1</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ccnxCodecSchemaV1_PacketEncoder.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Encoder for the version 1 TLV Packet.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Encoder for the version 1 TLV Packet. </p>
<p>Example: </p><div class="fragment"><div class="line">{</div><div class="line">}</div></div><!-- fragment --><dl class="section author"><dt>Author</dt><dd>Marc Mosko, Palo Alto Research Center (Xerox PARC) </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>(c) 2014-2015, Xerox Corporation (Xerox) and Palo Alto Research Center, Inc (PARC). All rights reserved. </dd></dl>
</div><div class="textblock"><code>#include &lt;parc/algol/parc_Buffer.h&gt;</code><br />
<code>#include &lt;parc/security/parc_Signer.h&gt;</code><br />
<code>#include &lt;ccnx/common/internal/ccnx_TlvDictionary.h&gt;</code><br />
<code>#include &lt;<a class="el" href="ccnx_codec___tlv_encoder_8h_source.html">ccnx/common/codec/ccnxCodec_TlvEncoder.h</a>&gt;</code><br />
<code>#include &lt;ccnx/common/codec/ccnxCodec_EncodingBuffer.h&gt;</code><br />
<code>#include &lt;<a class="el" href="ccnx_codec___network_buffer_8h_source.html">ccnx/common/codec/ccnxCodec_NetworkBuffer.h</a>&gt;</code><br />
</div>
<p><a href="ccnx_codec_schema_v1___packet_encoder_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad56e4ec0134144edbf47dfcf50ae4de5"><td class="memItemLeft" align="right" valign="top">CCNxCodecNetworkBufferIoVec *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnx_codec_schema_v1___packet_encoder_8h.html#ad56e4ec0134144edbf47dfcf50ae4de5">ccnxCodecSchemaV1PacketEncoder_DictionaryEncode</a> (CCNxTlvDictionary *packetDictionary, PARCSigner *signer)</td></tr>
<tr class="memdesc:ad56e4ec0134144edbf47dfcf50ae4de5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode the packetDictionary to wire format.  <a href="#ad56e4ec0134144edbf47dfcf50ae4de5">More...</a><br /></td></tr>
<tr class="separator:ad56e4ec0134144edbf47dfcf50ae4de5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1e0345136644cf14b96d5b98be4fc11"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccnx_codec_schema_v1___packet_encoder_8h.html#af1e0345136644cf14b96d5b98be4fc11">ccnxCodecSchemaV1PacketEncoder_Encode</a> (CCNxCodecTlvEncoder *packetEncoder, CCNxTlvDictionary *packetDictionary)</td></tr>
<tr class="memdesc:af1e0345136644cf14b96d5b98be4fc11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode a packetDictionary to wire format.  <a href="#af1e0345136644cf14b96d5b98be4fc11">More...</a><br /></td></tr>
<tr class="separator:af1e0345136644cf14b96d5b98be4fc11"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ad56e4ec0134144edbf47dfcf50ae4de5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CCNxCodecNetworkBufferIoVec* ccnxCodecSchemaV1PacketEncoder_DictionaryEncode </td>
          <td>(</td>
          <td class="paramtype">CCNxTlvDictionary *&#160;</td>
          <td class="paramname"><em>packetDictionary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PARCSigner *&#160;</td>
          <td class="paramname"><em>signer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encode the packetDictionary to wire format. </p>
<p>Will only use the PacketType from FixedHeader in the dictionary, if provided. The packet Version is fixed at "1", the PayloadLength and HeaderLength are calculated. If the FixedHeaderDictionary is not provided, the PacketType is inferred from the type of CCNx message.</p>
<p>The signer is not stored beyond the call to DictionaryEncode. If the dictionary already has a ValidationAlg and ValidationPayload, those are used, not the Signer. Otherwise, if the signer is not null, it is used to sign the wire format.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">packetDictionary</td><td>The dictionary representation of the packet to encode </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">signer</td><td>If not NULL will be used to sign the wire format</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-null</td><td>An IoVec that can be written to the network </td></tr>
    <tr><td class="paramname">null</td><td>an error</td></tr>
  </table>
  </dd>
</dl>
<p>Example: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;#example#&gt;</div></div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="af1e0345136644cf14b96d5b98be4fc11"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t ccnxCodecSchemaV1PacketEncoder_Encode </td>
          <td>(</td>
          <td class="paramtype">CCNxCodecTlvEncoder *&#160;</td>
          <td class="paramname"><em>packetEncoder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CCNxTlvDictionary *&#160;</td>
          <td class="paramname"><em>packetDictionary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encode a packetDictionary to wire format. </p>
<p>Will only use the PacketType from FixedHeader in the dictionary, if provided. The packet Version is fixed at "1", the PayloadLength and HeaderLength are calculated. If the FixedHeaderDictionary is not provided, the PacketType is inferred from the type of CCNx message.</p>
<p>You must use ccnxCodecTlvEncoder_SetSigner(signer) if you require a signature or MAC on the packet.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">packetEncoder</td><td>A TLV packet will be appended to the encoder </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">packetDictionary</td><td>The dictionary representation of the packet to encode</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-negative</td><td>The total bytes appended to the encode buffer </td></tr>
    <tr><td class="paramname">-1</td><td>An error</td></tr>
  </table>
  </dd>
</dl>
<p>Example: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;#example#&gt;</div></div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
</div>
<!--END GENERATE_TREEVIEW-->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/>
  <div class="container footer">
Copyright Â© 2008-2016, Xerox Corporation (Xerox) and Palo Alto Research Center, Inc (PARC)<br/>
Mon Aug 29 2016 12:44:52
<!-- Start of StatCounter Code for Default Guide -->
<script type="text/javascript">
//<![CDATA[
var sc_project=11084575; 
var sc_invisible=0;
var sc_security="bed914f8"; 
var scJsHost = (("https:" == document.location.protocol) ?  "https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" + scJsHost+ "statcounter.com/counter/counter_xhtml.js'></"+"script>");
//]]>
</script>
<noscript>
<div class="statcounter">
<a title="shopify site analytics" href="http://statcounter.com/shopify/" class="statcounter">
<img class="statcounter" src="http://c.statcounter.com/11084575/0/bed914f8/0/" alt="statcounter" />
</a></div></noscript>
  </div>
<!-- End of StatCounter Code for Default Guide -->
</body>
</html>
